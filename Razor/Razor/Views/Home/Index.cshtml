@model Product[]
@{
    ViewBag.Title = " Product Name";
    string prodStock = "default";
}


<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>View</title>
</head>
<body>
    <table>
        <thead>
            <tr><th>ID</th><th>Name</th><th>Price</th><th>Stock</th></tr>
        </thead>
        <tbody>
            @foreach (Product p in Model)
            {
                int? IntProductStock = p?.StockLevel;
                if (IntProductStock == null)
                {
                    prodStock = "0";
                }
                else if (IntProductStock > 0 && IntProductStock < 5)
                {
                    prodStock = $"{IntProductStock.ToString()} (Low Stock)";

                }
            <tr>
                <td>@p.ProductID</td>
                <td>@p.Name</td>
                <td>@p.Price</td>
                <td>@prodStock</td>

            </tr>
            }
        </tbody>
    </table>

    @*<div data-productid = "@Model.ProductID" data-stocklevel="@ViewBag.StockLevel">
        <p>Product Name: @Model.Name</p>
        <p>Product Price: @($"{Model.Price:C2}")</p>
        <p>Stock Level: 
            @switch (ViewBag.StockLevel)
            {
                case 0: 
                    @:Out of Stock
                    break;
                case 1:
                case 2:
                case 3:
                    <b>Low Stock (@ViewBag.StockLevel)</b>
                    break;
                default:
                    @: @ViewBag.StockLevel in Stock
                    break; 
            }

        </p>
    </div>*@
</body>
</html>
